<section class="enquiry-form-container">
  <div class="form-wrapper">
    <!-- Form header -->
    <div class="text-center mb-10">
  <div @fadeInUp class="w-full max-w-7xl px-4 mx-auto">
  <div class="relative flex items-center justify-center">
    
    <!-- Left animated line -->
    <div class="flex-1 h-px bg-gray-300 origin-right animate-extendLineLeft"></div>

    <!-- Center heading with pop-up bottom line -->
    <div class="relative mx-4">
      <div class="text-[#FFFCD9] px-6 py-3 rounded">
        <h2 class="text-xl md:text-4xl font-extrabold tracking-wider">ENQUIRE NOW</h2>
      </div>
      <div class="absolute bottom-0 left-0 w-full h-0 bg-gradient-to-r from-yellow-300 to-yellow-500 animate-bottomPop"></div>
    </div>

    <!-- Right animated line -->
    <div class="flex-1 h-px bg-gray-300 origin-left animate-extendLineRight"></div>
  </div>
</div>
  </div>
<!-- mmssssggg -->
    <!-- Main form -->
    <form (submit)="handleSubmit($event)" #enquiryForm="ngForm" class="form-content">
      <div class="form-grid">
        <!-- Name field -->
        <div class="form-group" [ngClass]="{'focused': focusedField === 'name'}">
          <div class="input-container">
            <label for="name" class="input-label">
              <svg xmlns="http://www.w3.org/2000/svg" class="input-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
              </svg>
              <span>Full Name</span>
            </label>
            <input 
              type="text" 
              id="name" 
              name="name" 
              [(ngModel)]="enquiry.name" 
              required 
              minlength="2"
              #name="ngModel"
              (focus)="setFocus('name')"
              (blur)="clearFocus()"
              class="input-field"
              [ngClass]="{'input-error': shouldShowError('name')}"
            >
          </div>
          <div *ngIf="shouldShowError('name')" class="error-text">
            {{ getErrorMessage('name') }}
          </div>
        </div>

        <!-- Email field -->
        <div class="form-group" [ngClass]="{'focused': focusedField === 'email'}">
          <div class="input-container">
            <label for="email" class="input-label">
              <svg xmlns="http://www.w3.org/2000/svg" class="input-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
              </svg>
              <span>Email Address</span>
            </label>
            <input 
              type="email" 
              id="email" 
              name="email" 
              [(ngModel)]="enquiry.email" 
              required 
              email
              #email="ngModel"
              (focus)="setFocus('email')"
              (blur)="clearFocus()"
              class="input-field"
              [ngClass]="{'input-error': shouldShowError('email')}"
            >
          </div>
          <div *ngIf="shouldShowError('email')" class="error-text">
            {{ getErrorMessage('email') }}
          </div>
        </div>

        <!-- Phone field -->
        <div class="form-group" [ngClass]="{'focused': focusedField === 'phone'}">
          <div class="input-container">
            <label for="phone" class="input-label">
              <svg xmlns="http://www.w3.org/2000/svg" class="input-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
              </svg>
              <span>Phone Number</span>
            </label>
            <input 
              type="tel" 
              id="phone" 
              name="phone" 
              [(ngModel)]="enquiry.phone" 
              pattern="^[0-9]{10}$"
              #phone="ngModel"
              (focus)="setFocus('phone')"
              (blur)="clearFocus()"
              class="input-field"
              [ngClass]="{'input-error': shouldShowError('phone')}"
            >
          </div>
          <div *ngIf="shouldShowError('phone')" class="error-text">
            {{ getErrorMessage('phone') }}
          </div>
        </div>

        <!-- Subject field -->
        <div class="form-group" [ngClass]="{'focused': focusedField === 'subject'}">
          <div class="input-container">
            <label for="subject" class="input-label">
              <svg xmlns="http://www.w3.org/2000/svg" class="input-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" />
              </svg>
              <span>Subject</span>
            </label>
            <input 
              type="text" 
              id="subject" 
              name="subject" 
              [(ngModel)]="enquiry.subject" 
              #subject="ngModel"
              (focus)="setFocus('subject')"
              (blur)="clearFocus()"
              class="input-field"
            >
          </div>
        </div>

        <!-- Message field - full width -->
        <div class="form-group message-group" [ngClass]="{'focused': focusedField === 'message'}">
          <div class="input-container">
            <label for="message" class="input-label">
              <svg xmlns="http://www.w3.org/2000/svg" class="input-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
              </svg>
              <span>Message</span>
            </label>
            <textarea 
              id="message" 
              name="message" 
              [(ngModel)]="enquiry.message" 
              required 
              minlength="10" 
              rows="4"
              #message="ngModel"
              (focus)="setFocus('message')"
              (blur)="clearFocus()"
              class="input-field"
              [ngClass]="{'input-error': shouldShowError('message')}"
            ></textarea>
          </div>
          <div *ngIf="shouldShowError('message')" class="error-text">
            {{ getErrorMessage('message') }}
          </div>
        </div>
      </div>
        <!-- Status messages -->
    <div class="status-messages">
      <div *ngIf="formStatus === 'success'" class="success-message">
        <svg class="status-icon" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
        </svg>
        <span>Thank you! Your message has been sent successfully. We'll contact you soon.</span>
      </div>
      
      <div *ngIf="formStatus === 'error'" class="error-message">
        <svg class="status-icon" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path>
        </svg>
        <span>Something went wrong. Please try again later.</span>
      </div>
    </div>
      <!-- Form actions -->
      <div class="form-actions">
        <button 
          type="submit" 
          [disabled]="formStatus === 'submitting'"
          class="submit-button bg-gradient-to-tr from-[#ffcd31] to-[#FAE753] hover:from-yellow-400 hover:to-orange-300"
        >
          <span *ngIf="formStatus !== 'submitting'">Send Message</span>
          <div *ngIf="formStatus === 'submitting'" class="loading-indicator">
            <svg class="spinner" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="spinner-track" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="spinner-path" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            <span>Sending...</span>
          </div>
        </button>
        <button type="button" (click)="resetForm()" class="reset-button">
          Reset
        </button>
      </div>
    </form>
  </div>
</section>